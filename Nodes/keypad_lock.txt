[{"id":"77258982.88da78","type":"function","z":"ffbb2171.0044e","name":"Key match checker","func":"context.global.keyEntry.push(msg.payload.toString());\nnode.warn(context.global.keyEntry.length);\n    node.warn(\"String is: \" + context.global.keyEntry.join(\"\"));\nif (context.global.keyEntry.length == 4) {\n    node.warn(\"Got 4 characters - Does it match?\");\n    node.warn(\"String is: \" + context.global.keyEntry.join(\"\"));\n\tif (context.global.keyEntry.join(\"\") == \"1234\") {\n\tnode.warn(\"Matched password! Open sesame!\");\n    var newMsg = { payload: \"open\" };\n    context.global.keyEntry = [];\n    return newMsg;\n\t}\n\telse {\n\tcontext.global.keyEntry = [];\n\t\tnode.warn(\"Nope doesn't match.\");\n\t}\n}\nif (context.global.keyEntry.length > 4){\n    \tcontext.global.keyEntry = [];\n}","outputs":1,"noerr":0,"x":782,"y":392,"wires":[["922d9d7c.6dd26","c6ad828b.39528"]]}]